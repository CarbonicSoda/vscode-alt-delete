{"version":3,"file":"extension.js","mappings":"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","sources":["../external commonjs \"vscode\"","../webpack/bootstrap",".././src/extension.ts"],"sourcesContent":["module.exports = require(\"vscode\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { ExtensionContext, Position, Range, Selection, TextEditor, TextEditorEdit, commands } from \"vscode\";\r\n\r\nexport function activate(context: ExtensionContext): void {\r\n\tcontext.subscriptions.push(\r\n\t\tcommands.registerTextEditorCommand(\"alt-delete.alt-backspace\", deleteFactory(\"backward\")),\r\n\t\tcommands.registerTextEditorCommand(\"alt-delete.alt-delete\", deleteFactory(\"forward\")),\r\n\t\tcommands.registerTextEditorCommand(\"alt-delete.alt-left\", moveFactory(\"backward\")),\r\n\t\tcommands.registerTextEditorCommand(\"alt-delete.alt-right\", moveFactory(\"forward\")),\r\n\t\tcommands.registerTextEditorCommand(\"alt-delete.alt-shift-left\", moveFactory(\"backward\", true)),\r\n\t\tcommands.registerTextEditorCommand(\"alt-delete.alt-shift-right\", moveFactory(\"forward\", true)),\r\n\t);\r\n}\r\n\r\nfunction deleteFactory(mode: \"backward\" | \"forward\"): (editor: TextEditor, edit: TextEditorEdit) => void {\r\n\treturn (editor: TextEditor, edit: TextEditorEdit) => {\r\n\t\tconst deleteRanges = [];\r\n\t\tfor (let i = 0; i < editor.selections.length; i++) {\r\n\t\t\tconst delta = getDelta(editor, i, mode);\r\n\t\t\tdeleteRanges[i] = getDeleteRange(editor, i, delta);\r\n\t\t}\r\n\t\tfor (const deleteRange of deleteRanges) edit.delete(deleteRange);\r\n\t};\r\n}\r\n\r\nfunction moveFactory(mode: \"backward\" | \"forward\", anchor = false): (editor: TextEditor) => void {\r\n\treturn (editor: TextEditor) => {\r\n\t\tconst selections = [];\r\n\t\tfor (let i = 0; i < editor.selections.length; i++) {\r\n\t\t\tconst delta = getDelta(editor, i, mode);\r\n\t\t\tselections[i] = getMovedSelection(editor, i, delta, anchor);\r\n\t\t}\r\n\t\teditor.selections = selections;\r\n\t};\r\n}\r\n\r\ntype Delta = {\r\n\tchar: number;\r\n\tline?: number;\r\n};\r\n\r\nenum CharClass {\r\n\tUPPER,\r\n\tLOWER,\r\n\tDIGIT,\r\n\tSPACE,\r\n\tSYMBOL,\r\n}\r\n\r\nfunction getCharClass(char: string) {\r\n\tif (/[A-Z]/.test(char)) return CharClass.UPPER;\r\n\tif (/[a-z]/.test(char)) return CharClass.LOWER;\r\n\tif (/\\d/.test(char)) return CharClass.DIGIT;\r\n\tif (/\\s/.test(char)) return CharClass.SPACE;\r\n\treturn CharClass.SYMBOL;\r\n}\r\n\r\nfunction getDelta(editor: TextEditor, selectionIndex: number, mode: \"backward\" | \"forward\"): Delta {\r\n\tconst isBackward = mode === \"backward\";\r\n\r\n\tconst doc = editor.document;\r\n\tconst currPos = editor.selections[selectionIndex].active;\r\n\tconst currLine = currPos.line;\r\n\tconst currLineRange = doc.lineAt(currLine).range;\r\n\r\n\tconst editRange = new Range(currPos, isBackward ? currLineRange.start : currLineRange.end);\r\n\tlet text = doc.getText(editRange);\r\n\tif (text.length === 0) {\r\n\t\tif (isBackward && currLine > 0) return { char: doc.lineAt(currLine - 1).text.length, line: -1 };\r\n\t\tif (!isBackward && currLine < doc.lineCount - 1) return { char: -doc.lineAt(currLine).text.length, line: 1 };\r\n\t}\r\n\r\n\ttext = isBackward ? text.trimEnd() : text.trimStart();\r\n\tif (!text) {\r\n\t\tif (isBackward) return { char: editRange.start.character - editRange.end.character };\r\n\t\treturn { char: editRange.end.character - editRange.start.character };\r\n\t}\r\n\r\n\tconst extraSpaceCnt = text.length - text.length;\r\n\tif (getCharClass(<string>text.at(isBackward ? -1 : 0)) === CharClass.UPPER) {\r\n\t\tif (isBackward) return { char: -extraSpaceCnt - 1 };\r\n\t\tif (getCharClass(text[1]) === CharClass.UPPER) return { char: extraSpaceCnt + 1 };\r\n\t}\r\n\r\n\tif (isBackward) {\r\n\t\tlet i = 1;\r\n\t\twhile (getCharClass(<string>text.at(-i - 1)) === getCharClass(<string>text.at(-i)) && i < text.length) i++;\r\n\t\tif (\r\n\t\t\tgetCharClass(<string>text.at(-i - 1)) === CharClass.UPPER &&\r\n\t\t\tgetCharClass(<string>text.at(-i)) === CharClass.LOWER\r\n\t\t)\r\n\t\t\ti++;\r\n\t\treturn { char: -i - extraSpaceCnt };\r\n\t} else {\r\n\t\tlet i = getCharClass(text[0]) === CharClass.UPPER ? 1 : 0;\r\n\t\twhile (getCharClass(text[i + 1]) === getCharClass(text[i]) && i < text.length - 1) i++;\r\n\t\treturn { char: i + extraSpaceCnt + 1 };\r\n\t}\r\n}\r\n\r\nfunction getDeleteRange(editor: TextEditor, selectionIndex: number, delta: Delta): Range {\r\n\tconst currPos = editor.selections[selectionIndex].active;\r\n\treturn new Range(currPos, currPos.translate(delta.line, delta.char));\r\n}\r\n\r\nfunction getMovedSelection(editor: TextEditor, selectionIndex: number, delta: Delta, anchor = false): Selection {\r\n\tconst currSelection = editor.selections[selectionIndex];\r\n\tconst newPos = new Position(\r\n\t\tcurrSelection.active.line + (delta.line ?? 0),\r\n\t\tcurrSelection.active.character + delta.char,\r\n\t);\r\n\treturn new Selection(anchor ? currSelection.anchor : newPos, newPos);\r\n}\r\n"],"names":["module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","context","subscriptions","push","commands","registerTextEditorCommand","deleteFactory","moveFactory","mode","editor","edit","deleteRanges","i","selections","length","delta","getDelta","getDeleteRange","deleteRange","delete","anchor","getMovedSelection","CharClass","getCharClass","char","test","UPPER","LOWER","DIGIT","SPACE","SYMBOL","selectionIndex","isBackward","doc","document","currPos","active","currLine","line","currLineRange","lineAt","range","editRange","Range","start","end","text","getText","lineCount","trimEnd","trimStart","character","extraSpaceCnt","at","translate","currSelection","newPos","Position","Selection"],"sourceRoot":""}